# Mosquitto Configuration for FACIS Simulation Service
# Eclipse Mosquitto 2.x

# =============================================================================
# Listeners
# =============================================================================

# MQTT listener (default port)
listener 1883
protocol mqtt

# WebSocket listener (optional, for web clients)
listener 9001
protocol websockets

# =============================================================================
# Security
# =============================================================================

# Allow anonymous connections (for development/demo)
# In production, set to false and configure authentication
allow_anonymous true

# =============================================================================
# Persistence
# =============================================================================

# Enable persistence for retained messages and subscriptions
persistence true
persistence_location /mosquitto/data/

# =============================================================================
# Logging
# =============================================================================

# Log to stderr (visible in docker logs)
log_dest stderr

# Log level: debug, error, warning, notice, information, none
log_type error
log_type warning
log_type notice
log_type information

# Log connection events
connection_messages true

# Log timestamp
log_timestamp true
log_timestamp_format %Y-%m-%dT%H:%M:%S

# =============================================================================
# Message Settings
# =============================================================================

# Maximum packet size (default: no limit)
# message_size_limit 0

# Maximum inflight messages per client
max_inflight_messages 20

# Maximum queued messages per client
max_queued_messages 1000
